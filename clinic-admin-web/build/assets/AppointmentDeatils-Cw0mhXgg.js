import{X as N,u as g,h as b,r as d,j as s}from"./index-CcQ31UA2.js";import{a as u}from"./appointmentAPI-D2AChQuS.js";import{a as i}from"./index.esm-DMOZoxqD.js";const C=()=>{var o,n;const{id:t}=N(),m=g(),l=b(),[v,f]=d.useState(!1),[c,h]=d.useState(null),e=(o=m.state)==null?void 0:o.appointment;if(!e)return s.jsxs("div",{children:[s.jsxs("h3",{children:["No Appointment Data Found for ID: ",t]}),s.jsx(i,{color:"primary",onClick:()=>l(-1),children:"Back"})]});d.useEffect(()=>{(async()=>{if((e==null?void 0:e.status.toLowerCase())==="confirmed"||(e==null?void 0:e.status.toLowerCase())==="completed"&&(e!=null&&e.doctorId))try{const a=await u(e.doctorId);console.log(a.data.data),h(a.data.data)}catch(a){console.error("Failed to fetch doctor details:",a)}})()},[e]);const x=r=>r?r.startsWith("data:image")?r:`data:image/jpeg;base64,${r}`:"/default-doctor.png",j=r=>{switch(console.log(r),r==null?void 0:r.toLowerCase()){case"completed":return"success";case"Rejected":return"danger";case"pending":return"warning";case"confirmed":return"info";case"in progress":return"primary";case"rescheduled":return"secondary";default:return"dark"}};return s.jsxs("div",{className:"container mt-4",children:[s.jsxs("div",{className:"bg-info text-white p-3 d-flex justify-content-between align-items-center rounded",children:[s.jsx("div",{children:s.jsxs("h5",{className:"mb-1 text",children:["Booking ID: ",e.bookingId]})}),s.jsx("div",{className:"d-flex gap-2",children:s.jsx(i,{color:"secondary",size:"sm",onClick:()=>l(-1),children:"Back"})})]}),s.jsxs("div",{className:"mt-4 p-3 border rounded shadow-sm bg-white",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center border-bottom pb-2 mb-3",children:[s.jsx("h5",{className:"fw-bold mb-0 text-primary",children:"Patient Details"}),s.jsx("span",{className:`badge bg-${j(e.status)} text-uppercase px-3 py-2`,children:e.status})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Patient Name:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.name})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Mobile Number:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.mobileNumber})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Booking For:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.bookingFor})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Age:"})," ",s.jsxs("span",{className:"ms-1",children:[e==null?void 0:e.age," Yrs"]})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Gender:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.gender})]}),s.jsxs("div",{className:"col-12",children:[s.jsx("strong",{children:"Problem:"}),s.jsx("div",{className:"text-muted ms-1",children:e==null?void 0:e.problem})]})]}),s.jsxs("div",{className:"border-top pt-3 mb-3",children:[s.jsx("h6",{className:"fw-bold text-secondary mb-2",children:"Slot & Payment Details"}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Date:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.serviceDate})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Time:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.servicetime})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Paid Amount:"})," ",s.jsxs("span",{className:"ms-1",children:["₹",e==null?void 0:e.totalFee]})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Consultation Fee:"})," ",s.jsxs("span",{className:"ms-1",children:["₹",e==null?void 0:e.consultationFee]})]})]})]}),s.jsxs("div",{className:"border-top pt-3",children:[s.jsx("h6",{className:"fw-bold text-secondary mb-2",children:"Doctor & Service Details"}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Doctor ID:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.doctorId})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Consultation Type:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.consultationType})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Service Name:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.subServiceName})]}),s.jsxs("div",{className:"col-md-4 mb-2",children:[s.jsx("strong",{children:"Service ID:"})," ",s.jsx("span",{className:"ms-1",children:e==null?void 0:e.subServiceId})]})]})]})]}),((e==null?void 0:e.status.toLowerCase())==="confirmed"||(e==null?void 0:e.status.toLowerCase())==="completed")&&c&&s.jsxs(s.Fragment,{children:[s.jsx("h6",{className:"fw-bold mt-4",children:"Doctor Details"}),s.jsxs("div",{className:"d-flex align-items-center gap-3 border rounded p-3 shadow-sm",children:[s.jsx("img",{src:x(c.doctorPicture),alt:c.doctorName,width:80,height:80,className:"rounded-circle border"}),s.jsxs("div",{children:[s.jsx("h6",{className:"text-primary fw-bold mb-1",children:c.doctorName}),s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Specialization:"})," ",c.specialization]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Experience:"})," ",c.experience," years"]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Qualification:"})," ",c.qualification]}),s.jsxs("p",{className:"mb-0",children:[s.jsx("strong",{children:"Languages:"})," ",(n=c.languages)==null?void 0:n.join(", ")]})]}),s.jsx("div",{className:"ms-auto",children:s.jsx(i,{color:"primary",size:"sm",className:"px-3",onClick:()=>l(`/doctor/${c.doctorId}`,{state:{doctor:c}}),children:"View Details"})})]})]})]})};export{C as default};
