import{r as n,_ as v,$ as l,a as m,c as b,P as o}from"./index-CcQ31UA2.js";import{u as le,T as te,C as j,a as re}from"./CConditionalPortal-DQP_4tIk.js";var E=n.forwardRef(function(e,s){var t=e.className,i=e.dark,r=e.disabled,c=e.white,d=v(e,["className","dark","disabled","white"]);return l.createElement("button",m({type:"button",className:b("btn","btn-close",{"btn-close-white":c},r,t),"aria-label":"Close",disabled:r},i&&{"data-coreui-theme":"dark"},d,{ref:s}))});E.propTypes={className:o.string,dark:o.bool,disabled:o.bool,white:o.bool};E.displayName="CCloseButton";var k=n.forwardRef(function(e,s){var t=e.children,i=e.className,r=v(e,["children","className"]);return l.createElement("div",m({className:b("modal-content",i)},r,{ref:s}),t)});k.propTypes={children:o.node,className:o.string};k.displayName="CModalContent";var I=n.createContext({}),w=n.forwardRef(function(e,s){var t,i=e.children,r=e.alignment,c=e.className,d=e.fullscreen,f=e.scrollable,p=e.size,y=v(e,["children","alignment","className","fullscreen","scrollable","size"]);return l.createElement("div",m({className:b("modal-dialog",(t={"modal-dialog-centered":r==="center"},t[typeof d=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(d,"-down")]=d,t["modal-dialog-scrollable"]=f,t["modal-".concat(p)]=p,t),c)},y,{ref:s}),i)});w.propTypes={alignment:o.oneOf(["top","center"]),children:o.node,className:o.string,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:o.bool,size:o.oneOf(["sm","lg","xl"])};w.displayName="CModalDialog";var K=n.forwardRef(function(e,s){var t=e.children,i=e.alignment,r=e.backdrop,c=r===void 0?!0:r,d=e.className,f=e.container,p=e.duration,y=p===void 0?150:p,x=e.focus,G=x===void 0?!0:x,J=e.fullscreen,O=e.keyboard,Q=O===void 0?!0:O,U=e.onClose,R=e.onClosePrevented,W=e.onShow,T=e.portal,B=T===void 0?!0:T,X=e.scrollable,Y=e.size,P=e.transition,C=P===void 0?!0:P,M=e.unmountOnClose,Z=M===void 0?!0:M,N=e.visible,_=v(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),z=n.useRef(null),h=n.useRef(null),ee=n.useRef(null),oe=le(s,h),L=n.useState(N),u=L[0],g=L[1],S=n.useState(!1),V=S[0],D=S[1],ne={visible:u,setVisible:g};n.useEffect(function(){g(N)},[N]),n.useEffect(function(){var a;return u?(z.current=document.activeElement,document.addEventListener("mouseup",F),document.addEventListener("keydown",H)):(a=z.current)===null||a===void 0||a.focus(),function(){document.removeEventListener("mouseup",F),document.removeEventListener("keydown",H)}},[u]);var $=function(){if(c==="static")return D(!0);g(!1)};n.useLayoutEffect(function(){R&&R(),setTimeout(function(){return D(!1)},y)},[V]),n.useLayoutEffect(function(){return u?(document.body.classList.add("modal-open"),c&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var a;G&&((a=h.current)===null||a===void 0||a.focus())},C?y:0)):(document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[u]);var F=function(a){h.current&&h.current==a.target&&$()},H=function(a){a.key==="Escape"&&Q&&$()};return l.createElement(l.Fragment,null,l.createElement(te,{in:u,mountOnEnter:!0,nodeRef:h,onEnter:W,onExit:U,unmountOnExit:Z,timeout:C?y:0},function(a){return l.createElement(j,{container:f,portal:B},l.createElement(I.Provider,{value:ne},l.createElement("div",m({className:b("modal",{"modal-static":V,fade:C,show:a==="entered"},d),tabIndex:-1},u?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:m({},a!=="exited"&&{display:"block"})},_,{ref:oe}),l.createElement(w,{alignment:i,fullscreen:J,scrollable:X,size:Y},l.createElement(k,{ref:ee},t)))))}),c&&l.createElement(j,{container:f,portal:B},l.createElement(re,{visible:u})))});K.propTypes={alignment:o.oneOf(["top","center"]),backdrop:o.oneOfType([o.bool,o.oneOf(["static"])]),children:o.node,className:o.string,container:o.any,duration:o.number,focus:o.bool,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:o.bool,onClose:o.func,onClosePrevented:o.func,onShow:o.func,portal:o.bool,scrollable:o.bool,size:o.oneOf(["sm","lg","xl"]),transition:o.bool,unmountOnClose:o.bool,visible:o.bool};K.displayName="CModal";var q=n.forwardRef(function(e,s){var t=e.children,i=e.className,r=v(e,["children","className"]);return l.createElement("div",m({className:b("modal-body",i)},r,{ref:s}),t)});q.propTypes={children:o.node,className:o.string};q.displayName="CModalBody";var A=n.forwardRef(function(e,s){var t=e.children,i=e.className,r=e.closeButton,c=r===void 0?!0:r,d=v(e,["children","className","closeButton"]),f=n.useContext(I).setVisible;return l.createElement("div",m({className:b("modal-header",i)},d,{ref:s}),t,c&&l.createElement(E,{onClick:function(){return f(!1)}}))});A.propTypes={children:o.node,className:o.string,closeButton:o.bool};A.displayName="CModalHeader";export{K as C,A as a,q as b};
